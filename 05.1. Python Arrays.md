# Python Arrays

An array can **store multiple values in a single variable**. It also helps reduce the overall volume of code and leads to **time savings**. **Arrays** are data structures that allow us to **store multiple values of the same data type**. An array is a collection of items with similar data types that are stored **in contiguous memory** locations.

### Types of Arrays in Python

1. **List-based arrays** using Python's built-in list type (Can hold mixed data types).
2. Array module arrays **using array from Python's array module** (**Homogeneous data** types only).
3. **NumPy arrays** using the NumPy library for numerical computing (Optimized for **numerical computations**).

In this section, we focus specifically on the **array module**, which provides efficient, typed arrays.

## The `array` Module
The `array` **module** allows you to **create arrays** that store elements of a single data type using type codes. **The general syntax** for creating an array using the array module is:

```python
    array.array(typecode, initializer)
```

* **typecode**: A **single character representing the data type** of the elements.
* **initializer**: A **list or iterable** containing initial values.

**Example**

```python
    import array
    numbers = array.array('i', [1, 2, 3, 4])
    print(numbers)
```

**Common Data Types (Type Codes)**: Below are the most commonly used type codes in the array module:

* `'i'` — signed integer
* `'f'` — floating point
* `'d'` — double precision float
* `'b'` — signed char
* `'u'` — Unicode character

**Key Features of array Module**:

* Stores elements in **contiguous memory**
* Uses **less memory than Python lists**
* All elements must have the **same data type**

## Accessing Elements
To **access items** in an array, we **refer to their index number**. The **index must be an integer**, and indexing **starts from 0**. We use the square bracket operator `[ ]` for this purpose.

### 1. **Accessing the first elemenyt**

   ```python
      numbers = array.array('i', [10, 20, 30, 40])
      print(numbers[0]) # Accesses the first element
      # Output: 10
   ```
   
### 2. **Slicing**

   **Slicing** allows you to access a portion of an array using the syntax `a[start:end]`.
   - **Positive slicing:** Uses non-negative indices** starting from 0**.
   - **Negative slicing:** Uses negative indices **starting from -1 for the last element**.
   - `start`: the index to begin slicing (**inclusive**)
   - `end`: the index to stop slicing (**exclusive**)

   ```python
      numbers = array.array('i', [10, 20, 30, 40])
      print(numbers[1:3])
      # Output:
      # array('i', [20, 30])
   ```

   **Example 2: Using step in slicing**

   ```python
        numbers = array.array('i', [10, 20, 30, 40, 50])
        print(numbers[0:5:2]) # every 2nd element
        # Output:
        # array('i', [10, 30, 50])
   ```

   **Example 3: Negative indices**

   ```python
        numbers = array.array('i', [10, 20, 30, 40, 50])
        print(numbers[-4:-1])
        # Output:
        # array('i', [20, 30, 40])
   ```

   **Example 4: Reverse using negative step**

   ```python
        numbers = array.array('i', [10, 20, 30, 40, 50])
        print(numbers[::-1]) # reverse array
        # Output:
        # array('i', [50, 40, 30, 20, 10])
   ```
    

## Basic Array Operations

1. **Updating Values**

   ```python
      numbers = array.array('i', [10, 20, 30, 40])
      numbers[2] = 100
      print(numbers)
      # Output:
      # array('i', [10, 20, 100, 40])
   ```
   
2. **Adding Elements**

   ```python
        numbers = array.array('i', [1, 2, 3])
        numbers.append(4)        # Append 4 at the end of the array
        numbers.extend([5, 6])   # Append an array "[5, 6]" at the end of the arra
        print(numbers)
        # Output:
        # array('i', [1, 2, 3, 4, 5, 6])
   ```
   
3. **Inserting Elements**

    ```python
        numbers = array.array('i', [10, 20, 30])
        numbers.insert(1, 99)   # insert 99 in place 1 of the array

        print(numbers)
        # Output:
        # array('i', [10, 99, 20, 30])
    ```
    
4. **Removing Elements**

   ```python
      numbers = array.array('i', [10, 20, 30, 40, 50, 50, 60, 70, 80, 90, 100])
      numbers.remove(50)           # Remove the first 50 in array
      popped_1 = numbers.pop()     # Default is pop(-1)
      popped_2 = numbers.pop(1)    # Pop the element in 1th place of array and remove it.
      popped_3 = numbers.pop(-2)   # Remove number 80
      print(numbers)
      print(popped_3)
      # Output:
      # array('i', [10, 30, 40, 50, 60, 70, 90])
      # 80
   ```

5. **Iterating Through an Array**
   
   ```python
      numbers = array.array('i', [5, 10, 15])
      print("Result using just \'in':")
      for x in numbers:
          print("", x)
      
      print("Result using \'in' and \'enumerate':")
      for y in enumerate(numbers):
          print("", y)
   ```
  
   **Output**

   ```
      Result using just 'in':
       5
       10
       15
      Result using 'in' and 'enumerate':
       (0, 5)
       (1, 10)
       (2, 15)
   ```

6.  **Reversing an Array**

    ```python
        numbers = array.array('i', [10, 20, 30, 40])
        numbers.reverse()
        print(numbers)
        # Output:
        # array('i', [40, 30, 20, 10])
    ```

7. **Convert Array to List**

    ```python
        numbers_list_1 = list(numbers)
        # or 
        numbers_list_2 = numbers.tolist()
        print(type(numbers))
        print(type(numbers_list_1))
        print(type(numbers_list_2))
    ```

    **Output**
    
    ```
    <class 'array.array'>
    <class 'list'>
    <class 'list'>
    ```

8. **Searching for an Element in an Array**

    To search for an element within an array, we can use Python's built-in index() method. Note that if the element appears multiple times, `index()` **returns the first occurrence only**.

    ```python
        numbers = array.array('i', [10, 20, 30, 20])
        position_1 = numbers.index(20)
        position_2 = numbers.index(50)
        print(position_1)  # 1
        print(position_2)  # ValueError: array.index(x): x not in array
    ```

9. **Getting the Length of an Array**
    To get the number of elements in an array, we can use the built-in `len()` function:

    ```python
        numbers = array.array('i', [10, 20, 30, 40])
        print(len(numbers))
        # Output:
        # 4
    ```

### Summary Table of Common Array Operations

| Operation | Syntax | Description |
|----------|--------|-------------|
| Create array | `array(typecode, initializer)` | Creates a typed array |
| Access element | `a[i]` | Access element at index *i* |
| Slice | `a[start:end]` | Returns a portion of the array |
| Update value | `a[i] = value` | Changes the element at index *i* |
| Append | `a.append(x)` | Adds one element to the end |
| Extend | `a.extend([x, y])` | Adds multiple elements |
| Insert | `a.insert(i, x)` | Inserts element at index *i* |
| Remove | `a.remove(x)` | Removes first occurrence of *x* |
| Pop | `a.pop(i)` | Removes and returns element at index *i* |
| Iterate | `for x in a:` | Loops through array elements |
| Convert to list | `a.tolist()` | Converts the array to a Python list |
| Search | `a.index(x)` | Returns index of first occurrence of x |
| Length | `len(a)` | Returns number of elements in the array |
   

## Common Errors When Using the `array` Module
### 1. Using the Wrong Type Code
```python
array.array('i', [1.5, 2.5])   # Error: floats in an integer array
```
**Fix:** Ensure values match the specified type code.

### 2. Mixing Data Types
```python
a = array.array('i', [1, 'two'])   # Error
```
**Fix:** Use only one data type per array.

### 3. Index Out of Range
```python
a = array.array('i', [10, 20])
print(a[5])    # Error
```
**Fix:** Ensure the index exists.

### 4. Removing a Non‑Existing Value
```python
numbers.remove(99)   # ValueError
